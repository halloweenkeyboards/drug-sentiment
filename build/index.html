<!DOCTYPE html>
<html ng-app="app">
<head>
    <link rel="stylesheet" href="styles/lib.css">

    <link rel="stylesheet" href="styles/app.css">

</head>
<body ng-controller='Drugs' ng-cloak>
    <div class="container-fluid">
        <h1 class="jumbotron">{{title}}</h1>
    </div>
    <div id="overview" class="container-fluid">
        <p>Below are the results of a sentiment analysis of over 8,000 "trip reports" scraped from the website erowid.org in 2015. Sentiment was scored using what at the time was AlchemyAPI. The public API was retired following IBM's acquisition of the startup. This deep-learning technology was reportedly integrated into the core Watson platform.<br /><br />
        The sentiment analysis API scores a text's sentiment on a scale of -1 to 1 with zero being neutral sentiment. In the projection below, every dot on each substance's scale represents an experience report. Mouse over the dot to see the report's title or click it to be taken to that page on erowid.<br /><br />
        <strong>I dont do drugs, you shouldn't either.</strong> You could hurt yourself or do something that you might regret. This project was created because of a combined interest in human's relationship with psychoactives and cutting edge machine-learning technology. After looking over the results I found that the API's sentiment scoring was fairly accurate. Shorter texts were generally scored more positive, with texts tending to get closer to neutral the longer they went on. Again, the fact that not a single substance scored a positive average sentiment goes to show that drugs can do great harm to people and should not be taken under any circumstance.<br /><br />
        This technology could be very useful for prioritizing emails submitted to a large company or government agency. An email with extremely negative sentiment could be flagged and immediately forwarded to a representative, while ones with generally positive sentiment could be read at a later time.<br /><br />
        This is a full-stack javascript web app. Angular was used on the front end and Node.js on the server side. D3.js was used for the dots. Gulp.js was used for build automation. The code for this page and other projects I have built are available to view at <a href="https://www.github.com/mccartymv">Github</a>.
        </p>
    </div>
    <div class="container-fluid nav-container-top">
        <div class="dropdown-sort">
            <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Sort By {{sortPreference.title}}
            <span class="caret"></span></button>
            <ul class="dropdown-menu">
                <li ng-click="sortCollection('average')"><a>Average Sentiment Score</a></li>
                <li ng-click="sortCollection('positive')"><a>% Positive Experiences</a></li>
                <li ng-click="sortCollection('name')"><a>Alphabetical</a></li>
                <li ng-click="sortCollection('experiences')"><a>Number of Exeperiences</a></li>
            </ul>
            <button class="btn btn-primary" ng-click="reverseOrder()">Reverse Order</button>
        </div>
        <div id="top-pagination">
            <nav><ul class="pagination pagination-lg">
                <li ng-click='assignProjectionPrevious()'>
                  <a aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                  </a>
                </li>
                <li  ng-click='assignProjection(1)' ng-class='{active: currentPage==1}'><a>1</a></li>
                <li ng-click='assignProjection(2)' ng-class='{active: currentPage==2}'><a>2</a></li>
                <li ng-click='assignProjection(3)' ng-class='{active: currentPage==3}'><a>3</a></li>
                <li ng-click='assignProjection(4)' ng-class='{active: currentPage==4}'><a>4</a></li>
                <li ng-click='assignProjection(5)' ng-class='{active: currentPage==5}'><a>5</a></li>
                <li ng-click='assignProjectionNext()'>
                  <a aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                  </a>
                </li>
            </ul></nav>
        </div>
    </div>
    <div class="drug-list">
        <drug-list></drug-list>
    </div>

    <svg class="bg-pattern" xmlns='http://www.w3.org/2000/svg' width='8' height='8' data-stellar-background-ratio="0.5"><path d='M-2 10L10 -2ZM10 6L6 10ZM-2 2L2 -2' stroke='#222' stroke-width='3.5'/>
    </svg>


    <svg class="bg-pattern" xmlns='http://www.w3.org/2000/svg' width='100%' height='100%'>
        <linearGradient id='g' x2='1' y2='1'>
        <stop stop-color='#F19'/>
        <stop offset='100%' stop-color='#0CF'/>
        </linearGradient>
        <rect width='100%' height='100%' fill='url(#g)'/>
    </svg>

    <div id="bottom-pagination">
        <nav><ul class="pagination pagination-lg">
            <li ng-click='assignProjectionPrevious()'>
              <a aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
              </a>
            </li>
            <li  ng-click='assignProjection(1)' ng-class='{active: currentPage==1}'><a>1</a></li>
            <li ng-click='assignProjection(2)' ng-class='{active: currentPage==2}'><a>2</a></li>
            <li ng-click='assignProjection(3)' ng-class='{active: currentPage==3}'><a>3</a></li>
            <li ng-click='assignProjection(4)' ng-class='{active: currentPage==4}'><a>4</a></li>
            <li ng-click='assignProjection(5)' ng-class='{active: currentPage==5}'><a>5</a></li>
            <li ng-click='assignProjectionNext()'>
              <a aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
              </a>
            </li>
        </ul></nav>
    </div>

    <script src="js/lib.js"></script>

    <script src="js/app.js"></script>
</body>
